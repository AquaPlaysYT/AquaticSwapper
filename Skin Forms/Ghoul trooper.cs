using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using MetroFramework;
using MetroFramework.Forms;

namespace Skin_Swapper__Sorry_
{
    public partial class Ghoul_trooper : MetroForm
    {
        public Ghoul_trooper()
        {
            InitializeComponent();
        }

        bool checkPak()
        {
            if (Properties.Settings.Default.pakFiles == "")
            {
                return false;
            }
            else
            {
                return true;
            }
        }

        public static void ReplaceBytes(string pak, long offset, byte[] bytes)
        {
            BinaryWriter binaryWriter = new BinaryWriter((Stream)File.Open(pak, FileMode.Open, FileAccess.ReadWrite));
            binaryWriter.BaseStream.Seek(offset, SeekOrigin.Begin);
            binaryWriter.Write(bytes);

            binaryWriter.Close();
        }

        private static byte[] SkinMat1 = new byte[]
        {
            047, 071, 097, 109, 101, 047, 067, 104, 097, 114, 097, 099, 116, 101, 114, 115, 047, 080, 108, 097, 121, 101, 114, 047, 070, 101, 109, 097, 108, 101, 047, 077, 101, 100, 105, 117, 109, 047, 066, 111, 100, 105, 101, 115, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 047, 077, 097, 116, 101, 114, 105, 097, 108, 115, 047, 077, 073, 095, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 046, 077, 073, 095, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114
        };

        private static byte[] SkinMat2 = new byte[]
        {
            047, 071, 097, 109, 101, 047, 067, 104, 097, 114, 097, 099, 116, 101, 114, 115, 047, 080, 108, 097, 121, 101, 114, 047, 070, 101, 109, 097, 108, 101, 047, 077, 101, 100, 105, 117, 109, 047, 066, 111, 100, 105, 101, 115, 047, 070, 095, 077, 101, 100, 095, 083, 111, 108, 100, 105, 101, 114, 095, 048, 049, 047, 083, 107, 105, 110, 115, 047, 072, 087, 095, 048, 049, 047, 077, 097, 116, 101, 114, 105, 097, 108, 115, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 072, 087, 048, 049, 046, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 072, 087, 048, 049, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000
        };

        private static byte[] SkinMathead1 = new byte[]
        {
            047, 071, 097, 109, 101, 047, 067, 104, 097, 114, 097, 099, 116, 101, 114, 115, 047, 080, 108, 097, 121, 101, 114, 047, 070, 101, 109, 097, 108, 101, 047, 077, 101, 100, 105, 117, 109, 047, 066, 111, 100, 105, 101, 115, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 047, 077, 097, 116, 101, 114, 105, 097, 108, 115, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 095, 072, 101, 097, 100, 095, 048, 049, 046, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 095, 072, 101, 097, 100, 095, 048, 049
        };

        private static byte[] SkinMathead2 = new byte[]
        {
            047, 071, 097, 109, 101, 047, 067, 104, 097, 114, 097, 099, 116, 101, 114, 115, 047, 080, 108, 097, 121, 101, 114, 047, 070, 101, 109, 097, 108, 101, 047, 077, 101, 100, 105, 117, 109, 047, 072, 101, 097, 100, 115, 047, 070, 095, 077, 101, 100, 095, 072, 101, 097, 100, 095, 048, 049, 047, 077, 097, 116, 101, 114, 105, 097, 108, 115, 047, 072, 087, 048, 049, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 072, 101, 097, 100, 095, 072, 087, 048, 049, 046, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 072, 101, 097, 100, 095, 072, 087, 048, 049, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000
        };

        private static byte[] SkinMathair1 = new byte[]
        {
            047, 071, 097, 109, 101, 047, 067, 104, 097, 114, 097, 099, 116, 101, 114, 115, 047, 080, 108, 097, 121, 101, 114, 047, 070, 101, 109, 097, 108, 101, 047, 077, 101, 100, 105, 117, 109, 047, 066, 111, 100, 105, 101, 115, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 047, 077, 097, 116, 101, 114, 105, 097, 108, 115, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 095, 072, 097, 105, 114, 095, 048, 049, 046, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 068, 097, 114, 107, 095, 066, 111, 109, 098, 101, 114, 095, 072, 097, 105, 114, 095, 048, 049
        };

        private static byte[] SkinMathair2 = new byte[]
        {
            047, 071, 097, 109, 101, 047, 067, 104, 097, 114, 097, 099, 116, 101, 114, 115, 047, 080, 108, 097, 121, 101, 114, 047, 070, 101, 109, 097, 108, 101, 047, 077, 101, 100, 105, 117, 109, 047, 072, 101, 097, 100, 115, 047, 070, 095, 077, 101, 100, 095, 072, 101, 097, 100, 095, 048, 049, 047, 077, 097, 116, 101, 114, 105, 097, 108, 115, 047, 072, 087, 048, 049, 047, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 072, 097, 105, 114, 095, 072, 087, 048, 049, 046, 070, 095, 077, 069, 068, 095, 067, 111, 109, 109, 097, 110, 100, 111, 095, 072, 097, 105, 114, 095, 072, 087, 048, 049, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000, 000
        };

        private static void ReplaceByte8()
        {
            ReplaceBytes(Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak", 1221886574L, SkinMat1);
            ReplaceBytes(Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak", 1271462636L, SkinMathead1);
            ReplaceBytes(Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak", 1271462351L, SkinMathair1);
        }

        private static void RevertByte9()
        {
            ReplaceBytes(Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak", 1221886574L, SkinMat2);
            ReplaceBytes(Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak", 1271462636L, SkinMathead2);
            ReplaceBytes(Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak", 1271462351L, SkinMathair2);
        }

        private static byte[] Body = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            66,
            111,
            100,
            105,
            101,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            77,
            73,
            95,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            46,
            77,
            73,
            95,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114
        };

        // Token: 0x040005DB RID: 1499
        private static byte[] Body1 = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            66,
            111,
            100,
            105,
            101,
            115,
            47,
            70,
            95,
            77,
            101,
            100,
            95,
            83,
            111,
            108,
            100,
            105,
            101,
            114,
            95,
            48,
            49,
            47,
            83,
            107,
            105,
            110,
            115,
            47,
            72,
            87,
            95,
            48,
            49,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            72,
            87,
            48,
            49,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            72,
            87,
            48,
            49,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
        };

        // Token: 0x040005DC RID: 1500
        private static byte[] Head = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            66,
            111,
            100,
            105,
            101,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            95,
            72,
            101,
            97,
            100,
            95,
            48,
            49,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            95,
            72,
            101,
            97,
            100,
            95,
            48,
            49
        };

        // Token: 0x040005DD RID: 1501
        private static byte[] Head1 = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            72,
            101,
            97,
            100,
            115,
            47,
            70,
            95,
            77,
            101,
            100,
            95,
            72,
            101,
            97,
            100,
            95,
            48,
            49,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            72,
            87,
            48,
            49,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            72,
            101,
            97,
            100,
            95,
            72,
            87,
            48,
            49,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            72,
            101,
            97,
            100,
            95,
            72,
            87,
            48,
            49,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
        };

        // Token: 0x040005DE RID: 1502
        private static byte[] Hair = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            66,
            111,
            100,
            105,
            101,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            95,
            72,
            97,
            105,
            114,
            95,
            48,
            49,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            95,
            72,
            97,
            105,
            114,
            95,
            48,
            49
        };

        // Token: 0x040005DF RID: 1503
        private static byte[] Hair1 = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            72,
            101,
            97,
            100,
            115,
            47,
            70,
            95,
            77,
            101,
            100,
            95,
            72,
            101,
            97,
            100,
            95,
            48,
            49,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            72,
            87,
            48,
            49,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            72,
            97,
            105,
            114,
            95,
            72,
            87,
            48,
            49,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            72,
            97,
            105,
            114,
            95,
            72,
            87,
            48,
            49,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
        };

        // Token: 0x040005E0 RID: 1504
        private static byte[] Hat = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            66,
            111,
            100,
            105,
            101,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            71,
            108,
            97,
            115,
            115,
            101,
            115,
            95,
            48,
            49,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            71,
            108,
            97,
            115,
            115,
            101,
            115,
            95,
            48,
            49,
            95,
            68,
            97,
            114,
            107,
            95,
            66,
            111,
            109,
            98,
            101,
            114
        };

        // Token: 0x040005E1 RID: 1505
        private static byte[] Hat1 = new byte[]
        {
            77,
            101,
            100,
            105,
            117,
            109,
            47,
            72,
            101,
            97,
            100,
            115,
            47,
            70,
            95,
            77,
            101,
            100,
            95,
            72,
            101,
            97,
            100,
            95,
            48,
            49,
            47,
            77,
            97,
            116,
            101,
            114,
            105,
            97,
            108,
            115,
            47,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            71,
            108,
            97,
            115,
            115,
            101,
            115,
            46,
            70,
            95,
            77,
            69,
            68,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            71,
            108,
            97,
            115,
            115,
            101,
            115,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
        };

        // Token: 0x040005E2 RID: 1506
        private static byte[] CID = new byte[]
        {
            67,
            111,
            115,
            109,
            101,
            116,
            105,
            99,
            115,
            47,
            67,
            104,
            97,
            114,
            97,
            99,
            116,
            101,
            114,
            115,
            47,
            67,
            73,
            68,
            95,
            50,
            50,
            57,
            95,
            65,
            116,
            104,
            101,
            110,
            97,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            70,
            95,
            68,
            97,
            114,
            107,
            66,
            111,
            109,
            98,
            101,
            114,
            46,
            67,
            73,
            68,
            95,
            50,
            50,
            57,
            95,
            65,
            116,
            104,
            101,
            110,
            97,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            70,
            95,
            68,
            97,
            114,
            107,
            66,
            111,
            109,
            98,
            101,
            114
        };

        // Token: 0x040005E3 RID: 1507
        private static byte[] CID1 = new byte[]
        {
            67,
            111,
            115,
            109,
            101,
            116,
            105,
            99,
            115,
            47,
            67,
            104,
            97,
            114,
            97,
            99,
            116,
            101,
            114,
            115,
            47,
            67,
            73,
            68,
            95,
            48,
            50,
            57,
            95,
            65,
            116,
            104,
            101,
            110,
            97,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            70,
            95,
            72,
            97,
            108,
            108,
            111,
            119,
            101,
            101,
            110,
            46,
            67,
            73,
            68,
            95,
            48,
            50,
            57,
            95,
            65,
            116,
            104,
            101,
            110,
            97,
            95,
            67,
            111,
            109,
            109,
            97,
            110,
            100,
            111,
            95,
            70,
            95,
            72,
            97,
            108,
            108,
            111,
            119,
            101,
            101,
            110,
            0,
            0
        };

        private void MetroButton1_Click(object sender, EventArgs e)
        {
            if (checkPak())
            {

                string path = Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak";
                if (File.Exists(path))
                {

                    RevertByte9();
                    txttrooper.Text = "[LOG] " + "Skin Added Successfully";
                }
                else
                {
                    txttrooper.Text = "[LOG] " + "Error Pak files are not set!";
                }
            }
            else
            {
                MessageBox.Show("Please Select your pak folder in settings!");
            }
        }

        private void MetroButton2_Click(object sender, EventArgs e)
        {
            if (checkPak())
            {

                string path = Properties.Settings.Default.pakFiles + "\\pakchunk10_s1-WindowsClient.pak";
                if (File.Exists(path))
                {

                    ReplaceByte8();
                    txttrooper.Text = "[LOG] " + "Skin Reverted Successfully";
                }
                else
                {
                    txttrooper.Text = "[LOG] " + "Error Pak files are not set!";
                }
            }
            else
            {
                MessageBox.Show("Please Select your pak folder in settings!");
            }
        }
    }
}
